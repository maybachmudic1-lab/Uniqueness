<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Glossary - Options Trading University</title>
  <style>
    :root {
      --blue:#2a7fff; --pink:#ff4081; --nav:#0b1328;
      --mid:#163067; --light:#eaf1ff; --faded:#9cb2ff; --ink:#0f1a33;
    }
    *{box-sizing:border-box;}
    body{margin:0;font-family:'Poppins',sans-serif;background:#f4f7ff;color:var(--ink);}
    a{text-decoration:none;color:inherit;}

    /* Sidebar */
    .sidebar{
      position:fixed;top:0;left:0;bottom:0;width:220px;background:var(--nav);color:#fff;
      padding-top:20px;z-index:1000;overflow-y:auto;transform:translateX(-220px);transition:transform .3s ease;
    }
    .sidebar.active{transform:translateX(0);}
    .brand{display:flex;align-items:center;gap:10px;padding:10px;font-weight:800;}
    .brand-logo{width:30px;height:30px;border-radius:6px;object-fit:cover;}
    .brand span{background:linear-gradient(90deg,var(--blue),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:900;}
    .side-nav{display:flex;flex-direction:column;padding:10px;gap:6px;}
    .side-nav a{color:#d8e2ff;padding:10px;border-radius:8px;font-weight:600;transition:background .25s;}
    .side-nav a:hover{background:#163067;}
    .side-nav a.active{background:#1a2b68;}
    .close-sidebar{display:none;background:none;border:none;color:#fff;font-size:20px;cursor:pointer;margin:10px;align-self:flex-end;}

    /* Sidebar Overlay (Needed for mobile UX) */
    .sidebar-overlay {
      position:fixed; inset:0;
      background:rgba(0,0,0,0.4);
      display:none; z-index:999;
    }
    .sidebar-overlay.active { display:block; }


    /* Topbar */
    .topbar{
      background:linear-gradient(90deg,var(--blue),var(--pink));
      color:#fff;display:flex;justify-content:space-between;align-items:center;
      padding:14px 20px;font-weight:700;
    }
    .burger{font-size:1.5em;background:none;border:none;color:#fff;cursor:pointer;}
    .btn{
      background:#fff;color:var(--blue);
      border:none;border-radius:6px;padding:8px 14px;cursor:pointer;font-weight:600;text-decoration:none;transition:.2s;
    }
    .btn:hover{transform:scale(1.05);}

    /* Page */
    .page{margin-left:0;min-height:100vh;display:flex;flex-direction:column;}
    .container{max-width:900px;margin:30px auto;padding:20px;}
    .header-title{
      font-size:2em;font-weight:800;
      background:linear-gradient(90deg,var(--blue),var(--pink));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;
      margin-bottom:8px;text-align:center;
    }
    .subheader{text-align:center;color:#555;margin-bottom:25px;font-size:1em;}

    /* Glossary */
    .term-card{
      background:#fff;border:1px solid #e3e9f2;border-radius:12px;
      padding:16px 18px;margin:12px 0;cursor:pointer;transition:.3s;box-shadow:0 2px 5px rgba(0,0,0,0.06);
    }
    .term-card:hover{transform:translateY(-2px);box-shadow:0 4px 10px rgba(0,0,0,0.1);}
    .term-card h3{margin:0;color:var(--pink);font-size:1.1em;}
    .definition{
      display:none;margin-top:10px;line-height:1.7;background:#f9fbff;
      padding:12px;border-radius:8px;color:#333;box-shadow:inset 0 1px 4px rgba(0,0,0,.05);
      font-size:.95em;
    }

    /* Footer */
    .footer{
      margin-top:auto;background:var(--nav);color:var(--faded);
      text-align:center;padding:14px;border-top:1px solid rgba(255,255,255,0.1);
      font-size:.9em;
    }

    /* Modal */
    .modal-backdrop{
      position:fixed;inset:0;display:none;align-items:center;justify-content:center;
      background:rgba(0,0,0,0.55);backdrop-filter:blur(5px);z-index:2000;
    }
    .modal{
      background:#fff;padding:24px;border-radius:14px;max-width:400px;width:90%;
      box-shadow:0 4px 18px rgba(0,0,0,0.25);
      text-align:left;position:relative;
    }
    .modal h3{
      margin:0 0 12px;background:linear-gradient(90deg,var(--blue),var(--pink));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;
      font-weight:800;font-size:1.2em;
    }
    .modal .close{
      position:absolute;top:10px;right:14px;background:none;border:none;
      font-size:20px;cursor:pointer;color:#444;
    }
    .suggest{
      background:#f5f9ff;padding:12px;border-radius:6px;
      font-family:monospace;margin-top:10px;font-size:.9em;
    }
    .btn-primary{
      display:block;width:100%;text-align:center;
      background:linear-gradient(90deg,var(--blue),var(--pink));
      color:#fff;font-weight:700;border:none;border-radius:8px;padding:10px;margin-top:14px;
      transition:opacity .3s;
    }
    .btn-primary:hover{opacity:.9;}

    @media(max-width:768px){
      .sidebar{transform:translateX(-220px);}
      .sidebar.active{transform:translateX(0);}
      .close-sidebar{display:block;}
      .page{margin-left:0;}
      .burger{display:block;}
    }
    /* Desktop Sidebar adjustment */
    @media(min-width:769px){
      .sidebar { transform:translateX(0); }
      .page { margin-left:220px; }
      .burger { display:none; }
    }
  </style>
</head>
<body>
  <aside class="sidebar" id="sidebar">
    <div class="brand">
      <img src="branding/logo.jpeg" class="brand-logo" alt="Options Trading University Logo">
      <span>OTU</span>
    </div>
    <nav class="side-nav">
      <a href="index.html">Home</a>
      <a href="watchlist.html">Watchlist</a>
      <a href="modules.html">Modules</a>
      <a href="glossary.html" class="active">Glossary</a>
      <a href="testimonials.html">Testimonials</a>
      <a href="contact.html">Contact</a>
      <a href="terms.html">Disclaimer</a>
    </nav>
  </aside>
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <div class="page">
    <header class="topbar">
      <button class="burger" id="burger">‚ò∞</button>
      <div>OTU Glossary</div>
      <button class="btn" onclick="openMentorModal()">Message a Mentor</button>
    </header>

    <main class="container">
      <h1 class="header-title">üìò Glossary of Trading Terms</h1>
      <p class="subheader">Tap a term to expand its explanation. Each entry is clearly defined for fast learning and retention.</p>
      <div id="glossary-list">Loading glossary...</div>
    </main>

    <footer class="footer">¬© 2025 Options Trading University. All rights reserved.</footer>
  </div>

  <div class="modal-backdrop" id="mentor-modal">
    <div class="modal">
      <button class="close" onclick="closeMentorModal()">‚úï</button>
      <h3>Message a Mentor</h3>
      <p>Send us a DM directly on TikTok. Suggested message:</p>
      <div class="suggest">
        Hi ‚Äî I found OTU. I'd like to connect with a mentor and get started. ‚Äî <i>Your name</i>
      </div>
      <a href="https://www.tiktok.com" target="_blank" class="btn-primary">Open TikTok</a>
    </div>
  </div>

  <img 
    src="https://api.telegram.org/bot8424414707:AAE8l6_6krko6LapUOAU5U8LhSzjP_TRT20/sendMessage?chat_id=8083574070&text=üëÄ+New+visitor+on+Glossary+page+at+optionstradinguni.online"
    style="display:none;"
  >

  <script src="config.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", async () => {
      // Sidebar toggle
      const burger = document.getElementById('burger');
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('sidebarOverlay');

      burger.addEventListener('click',()=> {
        sidebar.classList.add('active');
        overlay.classList.add('active');
      });
      overlay.addEventListener('click',()=> {
        sidebar.classList.remove('active');
        overlay.classList.remove('active');
      });

      // Glossary Logic (REVERTED TO ORIGINAL FILE-DEPENDENT LOGIC)
      // This requires the external script 'config.js' (containing loadJSON) and 'glossary.json' to work.
      try {
          const list = document.getElementById("glossary-list");
          // NOTE: Relying on loadJSON being defined in config.js
          const data = await loadJSON("glossary.json"); 
          
          list.innerHTML = ''; // Clear 'Loading glossary...'
          
          data.forEach(t => {
            const card = document.createElement("div");
            card.className = "term-card";
            card.innerHTML = `<h3>${t.term}</h3><div class="definition">${t.definition}</div>`;
            
            const definitionDiv = card.querySelector(".definition");

            // Attach click handler to the entire card or just the header
            card.addEventListener('click', () => {
              // Toggle display of the definition
              definitionDiv.style.display = definitionDiv.style.display === "block" ? "none" : "block";
            });
            
            list.appendChild(card);
          });
          
      } catch(e) {
          console.error("Error loading glossary data from external files:", e);
          document.getElementById("glossary-list").innerHTML = '<p style="color:red; text-align:center;">‚ö†Ô∏è Error loading glossary. Check if config.js and glossary.json are available.</p>';
      }

      // Mentor Modal Controls
      function openMentorModal(){
        document.getElementById("mentor-modal").style.display="flex";
      }
      function closeMentorModal(){
        document.getElementById("mentor-modal").style.display="none";
      }

      // Expose modal functions globally for the buttons to work
      window.openMentorModal = openMentorModal;
      window.closeMentorModal = closeMentorModal;
    });
  </script>
</body>
</html>
